<!DOCTYPE html>
<html>
<head>
<title>{{ item.name }}</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body { font-family: Arial; background:#f1f3f6; margin:0 }
.container { padding:15px }
.images img { width:100%; max-height:300px; object-fit:cover; cursor:pointer }
.price { color:green; font-size:22px; font-weight:bold }
.btn { padding:10px; margin:5px; border-radius:6px; text-decoration:none; color:white }
.call { background:#28a745 }
.whatsapp { background:#25D366 }
.wishlist { background:#ff4081 }
</style>
</head>
<body>

<div class="container">

<h2>{{ item.name }}</h2>

<!-- IMAGE ZOOM -->
<div class="images">
{% for img in item.images %}
<img src="{{ img }}" onclick="openZoom('{{ img }}')">
{% endfor %}
</div>

<p class="price">‚Çπ {{ item.price }}</p>

<p><b>Type:</b> {{ item.type }}</p>
<p><b>About:</b> {{ item.about }}</p>
<p><b>Address:</b> {{ item.address }}</p>

<!-- LOGIN CHECK -->
{% if user %}
<a class="btn call" href="tel:{{ item.mobile }}">üìû Call</a>
<a class="btn whatsapp"
   href="https://wa.me/91{{ item.mobile }}" target="_blank">üí¨ WhatsApp</a>
{% else %}
<p style="color:red">Login to see seller contact</p>
{% endif %}

<!-- WISHLIST -->
<button class="btn wishlist" onclick="addWishlist('{{ item.id }}')">‚ù§Ô∏è Wishlist</button>

<hr>

<h3>Related {{ item.type }}</h3>
<ul>
{% for r in related %}
<li><a href="/product/{{ r.id }}">{{ r.name }} ‚Äì ‚Çπ{{ r.price }}</a></li>
{% endfor %}
</ul>

</div>

<!-- FULL SCREEN IMAGE -->
<div id="zoom" style="display:none;position:fixed;top:0;left:0;
width:100%;height:100%;background:black">
<img id="zoomImg" style="width:100%;height:100%;object-fit:contain"
 onclick="closeZoom()">
</div>

<script>
function openZoom(src){
 document.getElementById("zoom").style.display="block"
 document.getElementById("zoomImg").src=src
}
function closeZoom(){
 document.getElementById("zoom").style.display="none"
}

function addWishlist(id){
 fetch("/wishlist/"+id)
 alert("Added to wishlist ‚ù§Ô∏è")
}
</script>

</body>
</html>
