<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Product Details</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:#f1f3f6;
}

.header{
    background:#2874f0;
    padding:12px 20px;
    color:white;
    font-size:20px;
    font-weight:bold;
}

.container{
    display:flex;
    gap:30px;
    padding:30px;
}

/* LEFT IMAGE */
.images{
    flex:1;
}

.main-img{
    width:100%;
    height:350px;
    object-fit:contain;
    border-radius:10px;
    background:white;
    padding:10px;
}

.thumbs{
    display:flex;
    gap:10px;
    margin-top:10px;
}

.thumbs img{
    width:80px;
    height:60px;
    object-fit:contain;
    cursor:pointer;
    border:2px solid #ddd;
    border-radius:6px;
}

/* RIGHT DETAILS */
.details{
    flex:1;
    background:white;
    padding:20px;
    border-radius:10px;
}

.price{
    font-size:24px;
    color:green;
    font-weight:bold;
    margin:10px 0;
}

.row{
    margin-bottom:8px;
    font-size:15px;
}

.btn{
    margin-top:15px;
    padding:12px 20px;
    border:none;
    background:#28a745;
    color:white;
    font-size:16px;
    border-radius:6px;
    cursor:pointer;
}

.wishlist-btn{
    margin-top:15px;
    padding:12px 20px;
    border:none;
    background:#ff4d88;
    color:white;
    font-size:16px;
    border-radius:6px;
    cursor:pointer;
}

.wishlist-btn.added{
    background:#28a745;
}
</style>
</head>

<body>

<div class="header">MyShop - Product View</div>

<div class="container">

    <!-- LEFT -->
    <div class="images">
        <img id="mainImg" src="{{ item.images[0] }}" class="main-img">

        <div class="thumbs">
            {% for img in item.images %}
            <img src="{{ img }}" onclick="changeImg('{{ img }}')">
            {% endfor %}
        </div>
    </div>

    <!-- RIGHT -->
    <div class="details">
        <h2>{{ item.type }}</h2>

        <div class="price">₹ {{ item.price }}</div>

        <div class="row"><b>Name:</b> {{ item.name }}</div>
        <div class="row"><b>Mobile:</b> {{ item.mobile }}</div>
        <div class="row"><b>Email:</b> {{ item.email }}</div>
        <div class="row"><b>Address:</b> {{ item.address }}</div>

        <div class="row"><b>About:</b><br>{{ item.about }}</div>

        <button class="btn">Contact Seller</button>
        <button class="wishlist-btn {% if item.id in wishlist %}added{% endif %}"
            onclick="toggleWishlist(this,'{{ item.id }}')">
            {% if item.id in wishlist %}✓ Added{% else %}❤️ Wishlist{% endif %}
        </button>
    </div>

</div>

<script>
function changeImg(src){
    document.getElementById("mainImg").src = src;
}

function toggleWishlist(btn, itemId){
    btn.classList.toggle("added");
    btn.innerText = btn.classList.contains("added") ? "✓ Added" : "❤️ Wishlist";
    fetch("/toggle-wishlist/"+itemId);
}
</script>

</body>
</html>
